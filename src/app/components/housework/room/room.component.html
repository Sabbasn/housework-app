<app-navbar></app-navbar>
<h1 id="title">{{ roomName }}</h1>
<p *ngIf="choresActive.length < 1 && choresFinished.length < 1">Relax - you have no chores left here!</p>
<div class="container" *ngIf="choresActive.length > 0 || choresFinished.length > 0">
    <div class="chore-list active"
        #activeList="cdkDropList" 
        cdkDropList 
        [cdkDropListData]="choresActive" 
        [cdkDropListConnectedTo]="finishedList"
        (cdkDropListDropped)="drop($event)">
        <h2>Active</h2>
        <div class="chore" 
            [ngClass]="{'locked': chore.status == 2}" 
            *ngFor="let chore of choresActive" 
            cdkDrag
            [cdkDragDisabled]="chore.status == 2">
            <h2>{{chore.name}}</h2>
            <p>{{chore.description}}</p>
            <p><b>Reward:</b> {{chore.experienceReward}}xp</p>
            <p>{{chore.status | status}}</p>
        </div>
    </div>
    <div class="chore-list finished" 
        #finishedList="cdkDropList"
        cdkDropList
        [cdkDropListData]="choresFinished"
        [cdkDropListConnectedTo]="activeList"
        (cdkDropListDropped)="drop($event, finishedList)">
        <h2>Finished</h2>
        <div class="chore" *ngFor="let chore of choresFinished" cdkDrag>
            <h2>{{chore.name}}</h2>
            <p>{{chore.description}}</p>
            <p>{{chore.status | status}}</p>
        </div>
    </div>
</div>
<form #choreForm #addChoreForm="ngForm" class="show-new-card" (ngSubmit)="addChore()">
    <h2>Add Chore</h2>
    <label for="name">Name</label>
    <input placeholder="Name" name="name" autocomplete="off" [(ngModel)]="newChore.name">
    <label for="description">Description</label>
    <textarea placeholder="Description" name="description" [(ngModel)]="newChore.description"></textarea>
    <button class="add-room">âœ”</button>
</form>
<button class="show-add-room" (click)="showAddChore(choreForm)">+</button>